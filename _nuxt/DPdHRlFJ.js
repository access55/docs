import{d as F,D as V,c as l,al as v,w as s,f as u,J as n,g as M,cy as R,o as B,h as i,e as h,F as w,ak as C,n as S,k as O,t as j,aw as z,ax as D}from"./DDYCBnog.js";import{u as I,b as T,N as U,a as A,x as K}from"./_RXsMKoi.js";import{d as H,a as J,p as L}from"./BFO8jaUD.js";import{a as N,d as P,n as Q}from"./COsv5cV2.js";import{m as E}from"./BbkRFEkM.js";import{w as X}from"./Ca8L8PKb.js";import{_ as Y}from"./Bmwvnbjr.js";import{a as Z}from"./VGku6hcn.js";import"./CbKgH7lF.js";import"./BX2pzSro.js";import"./DLATLgVk.js";import"./CayEAvHG.js";import"./DRC3Vyrq.js";const q={class:"flex items-center pointer-events-none"},G=u("label",{class:"absolute w-full h-full top-0 left-0 pointer-events-auto opacity-0 cursor-text",for:"cookiename"},null,-1),W=["value"],ee=F({__name:"CookieForm",setup($){const{cookies:p,activeCookieId:r,cookieMutators:c}=N(),f=[{label:"Key",key:"key",placeholder:"Username"},{label:"Value",key:"value",placeholder:"123"},{label:"Domain",key:"domain",placeholder:"scalar.com"},{label:"Path",key:"path",placeholder:"/"},{label:"Expires",key:"expires",placeholder:"Tomorrow"},{label:"Secure",key:"secure",placeholder:"True/False"},{label:"HttpOnly",key:"httpOnly",placeholder:"True/False"}],m=V(()=>p[r.value]||{}),x=(y,d)=>{r.value&&c.edit(r.value,y,d)};return(y,d)=>(l(),v(X,{data:m.value,onUpdate:x,options:f},{title:s(()=>[u("div",q,[G,u("input",{id:"cookiename",class:"pl-1 outline-none border-0 text-c-2 rounded pointer-events-auto relative w-full",placeholder:"Cookie Name",value:m.value.name,onInput:d[0]||(d[0]=_=>x("name",_.target.value))},null,40,W)])]),_:1},8,["data"]))}}),te=u("span",null,"Raw Cookie String",-1),ae=F({__name:"CookieRaw",setup($){const{cookies:p,activeCookieId:r}=N();return(c,f)=>(l(),v(I,null,{title:s(()=>[te]),default:s(()=>[n(r)&&n(p)[n(r)]?(l(),v(Y,{key:0,class:"px-2 py-2.5",lineNumbers:"",modelValue:""})):M("",!0)]),_:1}))}}),oe={class:"flex-1"},le=["onClick"],se={class:"before:bg-b-3 before:absolute before:left-[calc(1rem_-_1.5px)] before:top-0 before:z-10 before:h-[calc(100%_+_.5px)] last:before:h-full before:w-[.5px] mb-[.5px] last:mb-0 relative"},ne=["onClick"],re={class:"before:bg-b-3 before:absolute before:left-[calc(1.75rem_-_1.5px)] before:top-0 before:z-10 before:h-[calc(100%_+_.5px)] last:before:h-full before:w-[.5px] mb-[.5px] last:mb-0 relative"},ge=F({__name:"Cookies",setup($){const{cookies:p,cookieMutators:r}=N(),{collapsedSidebarFolders:c,toggleSidebarFolder:f}=Z(),m=R(),x=()=>{const t=Object.keys(p).length,e=P({uid:Q(),name:`Cookie ${t}`,value:"",domain:"example.com",path:"/",secure:!1,httpOnly:!1,sameSite:"None"});r.add(e),m.push(e.uid)},y=t=>{r.delete(t);const e=Object.values(p).filter(a=>a.uid!==t);if(e.length>1){const a=e[e.length-1];m.push(a.uid)}else e.length===1&&e[0].uid==="default"&&m.push("default")},d=V(()=>{const t={};return Object.values(p).forEach(e=>{e.domain&&e.path&&(t[e.domain]||(t[e.domain]={}),t[e.domain][e.path]||(t[e.domain][e.path]=[]),t[e.domain][e.path].push(e))}),t}),_=t=>c[t];return B(()=>{const t=Object.keys(d.value),e=Object.entries(d.value).flatMap(([a,o])=>Object.keys(o).map(g=>a+g));t.forEach(a=>{c[a]=!0}),e.forEach(a=>{c[a]=!0})}),(t,e)=>(l(),v(L,null,{default:s(()=>[i(T,null,{default:s(()=>[i(n(U),{title:"Cookies"},{content:s(()=>[u("div",oe,[i(H,null,{default:s(()=>[(l(!0),h(w,null,C(d.value,(a,o)=>(l(),h("div",{key:o},[u("button",{class:"flex font-medium gap-1.5 items-center px-2 py-1.5 text-left text-sm w-full break-words rounded hover:bg-b-2",type:"button",onClick:g=>n(f)(o)},[i(n(E),{class:S(["text-c-3",{"rotate-90":n(c)[o]}]),icon:"ChevronRight",size:"sm",thickness:"2.5"},null,8,["class"]),O(" "+j(o),1)],8,le),z(u("div",se,[(l(!0),h(w,null,C(a,(g,b)=>(l(),h("div",{key:b},[u("button",{class:"flex font-medium gap-1.5 items-center pl-5 pr-2 py-1.5 text-left text-sm w-full break-words rounded hover:bg-b-2",type:"button",onClick:k=>n(f)(o+b)},[i(n(E),{class:S(["text-c-3",{"rotate-90":n(c)[o+b]}]),icon:"ChevronRight",size:"sm",thickness:"2.5"},null,8,["class"]),O(" "+j(b),1)],8,ne),z(u("div",re,[(l(!0),h(w,null,C(g,k=>(l(),v(J,{key:k.uid,class:"cookie text-xs",variable:{name:k.name,uid:k.uid},warningMessage:"Are you sure you want to delete this cookie?",onDelete:ie=>y(k.uid)},null,8,["variable","onDelete"]))),128))],512),[[D,_(o+b)]])]))),128))],512),[[D,_(o)]])]))),128))]),_:1})])]),button:s(()=>[i(A,{click:x},{title:s(()=>[O("Add Item")]),_:1})]),_:1}),i(K,{class:"flex-1"},{default:s(()=>[i(ee),i(ae)]),_:1})]),_:1})]),_:1}))}});export{ge as default};
